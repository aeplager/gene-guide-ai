<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeneticsCare AI - Login</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, hsl(210, 40%, 95%) 0%, hsl(220, 30%, 92%) 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            color: hsl(222, 14%, 20%);
        }

        .container {
            width: 100%;
            max-width: 400px;
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 16px;
        }

        .logo-icon {
            background: hsl(217, 91%, 60%);
            padding: 12px;
            border-radius: 50%;
            color: white;
        }

        .heart-icon {
            color: hsl(217, 91%, 60%);
        }

        h1 {
            font-size: 32px;
            font-weight: bold;
            color: hsl(222, 14%, 20%);
            margin-bottom: 8px;
        }

        .subtitle {
            color: hsl(210, 40%, 40%);
        }

        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.1);
            padding: 32px;
            margin-bottom: 24px;
        }

        .card-title {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 8px;
        }

        .card-description {
            text-align: center;
            color: hsl(210, 40%, 40%);
            margin-bottom: 24px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group.hidden {
            display: none;
        }

        label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .input-container {
            position: relative;
        }

        input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid hsl(214, 32%, 91%);
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s;
            background: white;
        }

        input:focus {
            outline: none;
            border-color: hsl(217, 91%, 60%);
        }

        input.error {
            border-color: hsl(0, 84%, 60%);
        }

        .password-toggle {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: hsl(210, 40%, 40%);
            padding: 4px;
        }

        .password-toggle:hover {
            color: hsl(222, 14%, 20%);
        }

        .error-message {
            color: hsl(0, 84%, 60%);
            font-size: 12px;
            margin-top: 4px;
        }

        .submit-btn {
            width: 100%;
            background: linear-gradient(135deg, hsl(217, 91%, 60%), hsl(224, 76%, 48%));
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .loading-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .toggle-link {
            display: block;
            text-align: center;
            margin-top: 24px;
            color: hsl(217, 91%, 60%);
            text-decoration: none;
            cursor: pointer;
        }

        .toggle-link:hover {
            text-decoration: underline;
        }

        .disclaimer {
            background: hsl(210, 40%, 98%);
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid hsl(217, 91%, 60%);
            font-size: 14px;
            color: hsl(210, 40%, 40%);
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid hsl(214, 32%, 91%);
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 400px;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success {
            border-left: 4px solid hsl(142, 76%, 36%);
        }

        .toast.error {
            border-left: 4px solid hsl(0, 84%, 60%);
        }

        .toast-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .toast-description {
            color: hsl(210, 40%, 40%);
            font-size: 14px;
        }

        /* SVG Icons */
        .icon {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
        }

        .icon-sm {
            width: 16px;
            height: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo-container">
                <div class="logo-icon">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M11 2a2 2 0 0 0-2 2v6.5a.5.5 0 0 1-.5.5H7a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h1.5a.5.5 0 0 1 .5.5V22a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-5.5a.5.5 0 0 1 .5-.5H17a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2h-1.5a.5.5 0 0 1-.5-.5V4a2 2 0 0 0-2-2h-2Z"/>
                    </svg>
                </div>
                <svg class="icon heart-icon" viewBox="0 0 24 24">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78Z"/>
                </svg>
            </div>
            <h1>GeneticsCare AI</h1>
            <p class="subtitle">Your trusted genetics counseling companion</p>
        </div>

        <!-- Login/Signup Card -->
        <div class="card">
            <h2 class="card-title" id="cardTitle">Welcome back</h2>
            <p class="card-description" id="cardDescription">Sign in to access your genetic health insights</p>

            <form id="loginForm">
                <div class="form-group hidden" id="nameGroup">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" placeholder="Enter your full name">
                    <div class="error-message" id="nameError"></div>
                </div>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="Enter your email" required>
                    <div class="error-message" id="emailError"></div>
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="input-container">
                        <input type="password" id="password" placeholder="Enter your password" required>
                        <button type="button" class="password-toggle" id="passwordToggle">
                            <svg class="icon icon-sm" id="eyeIcon" viewBox="0 0 24 24">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8Z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                        </button>
                    </div>
                    <div class="error-message" id="passwordError"></div>
                </div>

                <div class="form-group hidden" id="confirmPasswordGroup">
                    <label for="confirmPassword">Confirm Password</label>
                    <div class="input-container">
                        <input type="password" id="confirmPassword" placeholder="Confirm your password">
                        <button type="button" class="password-toggle" id="confirmPasswordToggle">
                            <svg class="icon icon-sm" id="eyeIcon2" viewBox="0 0 24 24">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8Z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                        </button>
                    </div>
                    <div class="error-message" id="confirmPasswordError"></div>
                </div>

                <button type="submit" class="submit-btn" id="submitBtn">
                    <span id="btnText">Sign In</span>
                </button>
            </form>

            <a href="#" class="toggle-link" id="toggleLink">Don't have an account? Sign up</a>
        </div>

        <!-- Medical Disclaimer -->
        <div class="disclaimer">
            <strong>Medical Disclaimer:</strong> This AI tool is not a doctor or nurse. 
            Information provided should be discussed with qualified healthcare professionals.
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast" class="toast">
        <div class="toast-title" id="toastTitle"></div>
        <div class="toast-description" id="toastDescription"></div>
    </div>

    <script>
        class LoginApp {
            constructor() {
                this.isLogin = true;
                this.isLoading = false;
                this.formData = {
                    email: '',
                    password: '',
                    confirmPassword: '',
                    name: ''
                };
                this.errors = {};
                
                this.initializeElements();
                this.attachEventListeners();
            }

            initializeElements() {
                this.form = document.getElementById('loginForm');
                this.cardTitle = document.getElementById('cardTitle');
                this.cardDescription = document.getElementById('cardDescription');
                this.toggleLink = document.getElementById('toggleLink');
                this.submitBtn = document.getElementById('submitBtn');
                this.btnText = document.getElementById('btnText');
                
                // Form fields
                this.nameGroup = document.getElementById('nameGroup');
                this.confirmPasswordGroup = document.getElementById('confirmPasswordGroup');
                this.nameInput = document.getElementById('name');
                this.emailInput = document.getElementById('email');
                this.passwordInput = document.getElementById('password');
                this.confirmPasswordInput = document.getElementById('confirmPassword');
                
                // Password toggles
                this.passwordToggle = document.getElementById('passwordToggle');
                this.confirmPasswordToggle = document.getElementById('confirmPasswordToggle');
                
                // Error elements
                this.nameError = document.getElementById('nameError');
                this.emailError = document.getElementById('emailError');
                this.passwordError = document.getElementById('passwordError');
                this.confirmPasswordError = document.getElementById('confirmPasswordError');
                
                // Toast
                this.toast = document.getElementById('toast');
                this.toastTitle = document.getElementById('toastTitle');
                this.toastDescription = document.getElementById('toastDescription');
            }

            attachEventListeners() {
                this.form.addEventListener('submit', (e) => this.handleSubmit(e));
                this.toggleLink.addEventListener('click', (e) => this.toggleMode(e));
                this.passwordToggle.addEventListener('click', () => this.togglePasswordVisibility('password'));
                this.confirmPasswordToggle.addEventListener('click', () => this.togglePasswordVisibility('confirmPassword'));
                
                // Real-time validation
                this.nameInput.addEventListener('input', () => this.clearError('name'));
                this.emailInput.addEventListener('input', () => this.clearError('email'));
                this.passwordInput.addEventListener('input', () => this.clearError('password'));
                this.confirmPasswordInput.addEventListener('input', () => this.clearError('confirmPassword'));
            }

            validateForm() {
                this.errors = {};
                
                // Email validation
                if (!this.emailInput.value.trim()) {
                    this.errors.email = 'Email is required';
                } else if (!/\S+@\S+\.\S+/.test(this.emailInput.value)) {
                    this.errors.email = 'Email is invalid';
                }
                
                // Password validation
                if (!this.passwordInput.value) {
                    this.errors.password = 'Password is required';
                } else if (this.passwordInput.value.length < 6) {
                    this.errors.password = 'Password must be at least 6 characters';
                }
                
                // Name validation for signup
                if (!this.isLogin && !this.nameInput.value.trim()) {
                    this.errors.name = 'Full name is required';
                }
                
                // Confirm password validation for signup
                if (!this.isLogin) {
                    if (!this.confirmPasswordInput.value) {
                        this.errors.confirmPassword = 'Please confirm your password';
                    } else if (this.passwordInput.value !== this.confirmPasswordInput.value) {
                        this.errors.confirmPassword = 'Passwords do not match';
                    }
                }
                
                this.displayErrors();
                return Object.keys(this.errors).length === 0;
            }

            displayErrors() {
                // Clear all errors first
                this.nameError.textContent = '';
                this.emailError.textContent = '';
                this.passwordError.textContent = '';
                this.confirmPasswordError.textContent = '';
                
                this.nameInput.classList.remove('error');
                this.emailInput.classList.remove('error');
                this.passwordInput.classList.remove('error');
                this.confirmPasswordInput.classList.remove('error');
                
                // Display errors
                Object.keys(this.errors).forEach(field => {
                    const errorElement = document.getElementById(`${field}Error`);
                    const inputElement = document.getElementById(field);
                    
                    if (errorElement && inputElement) {
                        errorElement.textContent = this.errors[field];
                        inputElement.classList.add('error');
                    }
                });
            }

            clearError(field) {
                if (this.errors[field]) {
                    delete this.errors[field];
                    const errorElement = document.getElementById(`${field}Error`);
                    const inputElement = document.getElementById(field);
                    
                    if (errorElement && inputElement) {
                        errorElement.textContent = '';
                        inputElement.classList.remove('error');
                    }
                }
            }

            async handleSubmit(e) {
                e.preventDefault();
                
                if (!this.validateForm()) {
                    this.showToast('Form Error', 'Please fix the errors below', 'error');
                    return;
                }
                
                this.setLoading(true);
                
                try {
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1500));
                    
                    this.showToast(
                        this.isLogin ? 'Login Successful' : 'Account Created',
                        this.isLogin ? 'Welcome back!' : 'Welcome to GeneticsCare AI!',
                        'success'
                    );
                    
                    // Simulate navigation
                    setTimeout(() => {
                        alert('Navigation to introduction page would happen here!');
                    }, 1000);
                    
                } catch (error) {
                    this.showToast('Error', 'Something went wrong. Please try again.', 'error');
                } finally {
                    this.setLoading(false);
                }
            }

            setLoading(loading) {
                this.isLoading = loading;
                this.submitBtn.disabled = loading;
                this.toggleLink.style.opacity = loading ? '0.5' : '1';
                this.toggleLink.style.pointerEvents = loading ? 'none' : 'auto';
                
                if (loading) {
                    this.btnText.innerHTML = `
                        <div class="loading-spinner"></div>
                        ${this.isLogin ? 'Signing In...' : 'Creating Account...'}
                    `;
                } else {
                    this.btnText.textContent = this.isLogin ? 'Sign In' : 'Create Account';
                }
            }

            toggleMode(e) {
                e.preventDefault();
                if (this.isLoading) return;
                
                this.isLogin = !this.isLogin;
                this.errors = {};
                
                // Clear form
                this.form.reset();
                this.displayErrors();
                
                // Update UI
                this.updateUI();
            }

            updateUI() {
                if (this.isLogin) {
                    this.cardTitle.textContent = 'Welcome back';
                    this.cardDescription.textContent = 'Sign in to access your genetic health insights';
                    this.toggleLink.textContent = "Don't have an account? Sign up";
                    this.btnText.textContent = 'Sign In';
                    this.nameGroup.classList.add('hidden');
                    this.confirmPasswordGroup.classList.add('hidden');
                } else {
                    this.cardTitle.textContent = 'Create account';
                    this.cardDescription.textContent = 'Join us to understand your genetic health better';
                    this.toggleLink.textContent = 'Already have an account? Sign in';
                    this.btnText.textContent = 'Create Account';
                    this.nameGroup.classList.remove('hidden');
                    this.confirmPasswordGroup.classList.remove('hidden');
                }
            }

            togglePasswordVisibility(field) {
                const input = document.getElementById(field);
                const isPassword = input.type === 'password';
                input.type = isPassword ? 'text' : 'password';
                
                // Update icon (simplified - you could swap SVG icons here)
                const toggle = field === 'password' ? this.passwordToggle : this.confirmPasswordToggle;
                toggle.title = isPassword ? 'Hide password' : 'Show password';
            }

            showToast(title, description, type = 'success') {
                this.toastTitle.textContent = title;
                this.toastDescription.textContent = description;
                
                this.toast.className = `toast ${type}`;
                this.toast.classList.add('show');
                
                setTimeout(() => {
                    this.toast.classList.remove('show');
                }, 4000);
            }
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            new LoginApp();
        });
    </script>
</body>
</html>